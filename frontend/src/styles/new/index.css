@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&family=IBM+Plex+Mono:ital,wght@0,100..700;1,100..700&family=Noto+Emoji:wght@300..700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* 1) THEME TOKENS scoped to .new-design */
@layer base {
  /* Light defaults - New Design */
  .new-design {
    color-scheme: light;
    --_background: 48 33.33% 97.06%;
    --_foreground: 24 15% 12%;
    --_primary: 24 30% 18%;
    --_primary-foreground: 36 40% 96%;
    --_secondary: 33 23% 90%;
    --_secondary-foreground: 24 18% 24%;
    --_muted: 32 18% 88%;
    --_muted-foreground: 24 12% 45%;
    --_accent: 28 22% 92%;
    --_accent-foreground: 24 18% 18%;
    --_destructive: 0 59% 57%;
    --_destructive-foreground: 0 0% 100%;
    --_border: 30 18% 80%;
    --_input: 32 22% 94%;
    --_ring: 20 45% 45%;
    --_radius: 0.125rem;

    /* Status (light) */
    --_success: 117 38% 50%;
    --_success-foreground: 117 38% 20%;
    --_warning: 32 95% 44%;
    --_warning-foreground: 32 95% 14%;
    --_info: 217 91% 60%;
    --_info-foreground: 0 0% 5%;
    --_neutral: 32 18% 88%;
    --_neutral-foreground: 24 15% 12%;

    /* Console (light) */
    --_console-background: 0 0% 100%;
    --_console-foreground: 0 0% 5%;
    --_console-success: 117 38% 50%;
    --_console-error: 0 59% 57%;

    /* Syntax highlighting (light) */
    --_syntax-keyword: #d73a49;
    --_syntax-function: #6f42c1;
    --_syntax-constant: #005cc5;
    --_syntax-string: #032f62;
    --_syntax-variable: #e36209;
    --_syntax-comment: #6a737d;
    --_syntax-tag: #22863a;
    --_syntax-punctuation: #24292e;
    --_syntax-deleted: #b31d28;

    /* Text (light) */
    --text-high: 0 0% 5%;
    --text-normal: 0 0% 20%;
    --text-low: 0 0% 39%;

    /* Background (light) - with VS Code overrides */
    --_bg-primary-default: 35 30% 96%;
    --_bg-secondary-default: 33 26% 92%;
    --_bg-panel-default: 30 22% 88%;
    --bg-primary: var(--vscode-editor-background, var(--_bg-primary-default));
    --bg-secondary: var(
      --vscode-editorWidget-background,
      var(--_bg-secondary-default)
    );
    --bg-panel: var(--vscode-input-background, var(--_bg-panel-default));

    /* Accent (light) */
    --brand: 18 55% 46%;
    --brand-hover: 18 60% 55%;
    --brand-secondary: 18 45% 35%;
    --error: 0 59% 57%;
    --success: 117 38% 50%;
    --merged: 22 45% 52%;

    /* Text on accent */
    --text-on-brand: 0 0% 100%;
  }

  /* Dark mode - handles both .new-design.dark and .dark .new-design */
  .new-design.dark,
  .dark .new-design {
    color-scheme: dark;

    /* Internal variables (dark) - needed for public tokens */
    --_background: 60 0.67% 29.22%;
    --_foreground: 35 25% 90%;
    --_primary: 34 32% 88%;
    --_primary-foreground: 24 20% 12%;
    --_secondary: 24 10% 14%;
    --_secondary-foreground: 32 18% 75%;
    --_muted: 24 10% 18%;
    --_muted-foreground: 30 10% 55%;
    --_accent: 24 14% 22%;
    --_accent-foreground: 35 25% 90%;
    --_destructive: 0 59% 57%;
    --_destructive-foreground: 0 0% 96%;
    --_border: 24 12% 22%;
    --_input: 24 12% 20%;
    --_ring: 30 30% 65%;

    /* Status (dark) */
    --_success: 117 38% 50%;
    --_success-foreground: 117 38% 90%;
    --_warning: 32.2 95% 44.1%;
    --_warning-foreground: 32.2 95% 90%;
    --_info: 217.2 91.2% 59.8%;
    --_info-foreground: 217.2 91.2% 90%;
    --_neutral: 32 12% 22%;
    --_neutral-foreground: 35 22% 90%;

    /* Text (dark) */
    --text-high: 0 0% 96%;
    --text-normal: 0 0% 77%;
    --text-low: 0 0% 56%;

    /* Background (dark) - with VS Code overrides */
    --_bg-primary-default: 24 14% 10%;
    --_bg-secondary-default: 24 12% 12%;
    --_bg-panel-default: 24 12% 18%;
    --bg-primary: var(--vscode-editor-background, var(--_bg-primary-default));
    --bg-secondary: var(
      --vscode-editorWidget-background,
      var(--_bg-secondary-default)
    );
    --bg-panel: var(--vscode-input-background, var(--_bg-panel-default));

    /* Accent (dark) */
    --brand: 18 55% 52%;
    --brand-hover: 18 65% 60%;
    --brand-secondary: 18 45% 40%;
    --error: 0 59% 57%;
    --success: 117 38% 50%;
    --merged: 26 40% 62%;

    /* Text on accent */
    --text-on-brand: 0 0% 100%;
    /* Console (dark) */
    --_console-background: 0 0% 0%;
    --_console-foreground: 210 40% 98%;
    --_console-success: 138.5 76.5% 47.7%;
    --_console-error: 0 84.2% 60.2%;

    /* Syntax highlighting (dark) */
    --_syntax-keyword: #ff7b72;
    --_syntax-function: #d2a8ff;
    --_syntax-constant: #79c0ff;
    --_syntax-string: #a5d6ff;
    --_syntax-variable: #ffa657;
    --_syntax-comment: #8b949e;
    --_syntax-tag: #7ee787;
    --_syntax-punctuation: #c9d1d9;
    --_syntax-deleted: #ffdcd7;
  }
}

/* 2) PUBLIC TOKENS scoped to .new-design */
@layer base {
  .new-design {
    --background: var(--vscode-editor-background, var(--_background));
    --foreground: var(--vscode-editor-foreground, var(--_foreground));

    --card: var(--muted);
    --card-foreground: var(--muted-foreground);
    --popover: var(--background);
    --popover-foreground: var(--foreground);

    --primary: var(--vscode-button-background, var(--_primary));
    --primary-foreground: var(
      --vscode-editor-foreground,
      var(--_primary-foreground)
    );
    --secondary: var(--vscode-input-background, var(--_secondary));
    --secondary-foreground: var(
      --vscode-input-foreground,
      var(--_secondary-foreground)
    );

    --muted: var(--vscode-editor-background, var(--_muted));
    --muted-foreground: var(
      --vscode-descriptionForeground,
      var(--_muted-foreground)
    );
    --accent: var(--vscode-focusBorder, var(--_accent));
    --accent-foreground: var(
      --vscode-editor-foreground,
      var(--_accent-foreground)
    );

    --destructive: var(--vscode-errorForeground, var(--_destructive));
    --destructive-foreground: var(
      --vscode-button-foreground,
      var(--_destructive-foreground)
    );

    --border: var(--vscode-input-background, var(--_border));
    --input: var(--vscode-input-background, var(--_input));
    --ring: var(--vscode-focusBorder, var(--_ring));

    --radius: var(--_radius);

    /* Status */
    --success: var(--vscode-testing-iconPassed, var(--_success));
    --success-foreground: var(
      --vscode-editor-foreground,
      var(--_success-foreground)
    );
    --warning: var(--vscode-testing-iconQueued, var(--_warning));
    --warning-foreground: var(
      --vscode-descriptionForeground,
      var(--_warning-foreground)
    );
    --info: var(--vscode-focusBorder, var(--_info));
    --info-foreground: var(--vscode-editor-foreground, var(--_info-foreground));
    --neutral: var(--vscode-input-background, var(--_neutral));
    --neutral-foreground: var(
      --vscode-editor-foreground,
      var(--_neutral-foreground)
    );

    /* Console/terminal */
    --console-background: var(
      --vscode-editor-background,
      var(--_console-background)
    );
    --console-foreground: var(
      --vscode-terminal-foreground,
      var(--_console-foreground)
    );
    --console-success: var(
      --vscode-testing-iconPassed,
      var(--_console-success)
    );
    --console-error: var(--vscode-terminal-ansiRed, var(--_console-error));

    /* Syntax highlighting */
    --syntax-keyword: var(--_syntax-keyword);
    --syntax-function: var(--_syntax-function);
    --syntax-constant: var(--_syntax-constant);
    --syntax-string: var(--_syntax-string);
    --syntax-variable: var(--_syntax-variable);
    --syntax-comment: var(--_syntax-comment);
    --syntax-tag: var(--_syntax-tag);
    --syntax-punctuation: var(--_syntax-punctuation);
    --syntax-deleted: var(--_syntax-deleted);

    /* Allotment */
    --separator-border: hsl(var(--border));
    --focus-border: hsl(var(--brand));
  }
}

/* 3) Base styles scoped to .new-design */
@layer base {
  .new-design *,
  .new-design *::before,
  .new-design *::after {
    @apply border-border;
  }

  html,
  body,
  #root {
    @apply min-h-screen;
    @apply font-normal;
  }

  .new-design {
    @apply bg-background text-foreground font-ibm-plex-sans;
  }

  .new-design *:focus {
    @apply ring-inset;
  }

  .new-design .logo {
    @apply fill-foreground;
  }

  .new-design a,
  .new-design button,
  .new-design button * {
    @apply transition-colors duration-200;
    cursor: pointer;
  }
}

/* ANSI color classes for fancy-ansi - optimized for both light and dark modes */
@layer components {
  /* Light mode: use darker shades for contrast on light backgrounds */
  .new-design .ansi-red {
    @apply text-red-700 dark:text-red-400;
  }

  .new-design .ansi-green {
    @apply text-green-700 dark:text-green-400;
  }

  .new-design .ansi-yellow {
    @apply text-yellow-700 dark:text-yellow-400;
  }

  .new-design .ansi-blue {
    @apply text-blue-700 dark:text-blue-400;
  }

  .new-design .ansi-magenta {
    @apply text-purple-700 dark:text-purple-400;
  }

  .new-design .ansi-cyan {
    @apply text-cyan-700 dark:text-cyan-400;
  }

  .new-design .ansi-white {
    @apply text-gray-600 dark:text-gray-200;
  }

  .new-design .ansi-black {
    @apply text-black dark:text-gray-900;
  }

  .new-design .ansi-bright-red {
    @apply text-red-600 dark:text-red-300;
  }

  .new-design .ansi-bright-green {
    @apply text-green-600 dark:text-green-300;
  }

  .new-design .ansi-bright-yellow {
    @apply text-amber-600 dark:text-yellow-300;
  }

  .new-design .ansi-bright-blue {
    @apply text-blue-600 dark:text-blue-300;
  }

  .new-design .ansi-bright-magenta {
    @apply text-purple-600 dark:text-purple-300;
  }

  .new-design .ansi-bright-cyan {
    @apply text-cyan-600 dark:text-cyan-300;
  }

  .new-design .ansi-bright-white {
    @apply text-gray-500 dark:text-gray-100;
  }

  .new-design .ansi-bright-black {
    @apply text-gray-600 dark:text-gray-500;
  }

  .new-design .ansi-bold {
    @apply font-bold;
  }

  .new-design .ansi-italic {
    @apply italic;
  }

  .new-design .ansi-underline {
    @apply underline;
  }
}

/* Animated border for running chat box */
@keyframes border-flash {
  0% {
    background-position: 200% 0;
  }

  100% {
    background-position: -200% 0;
  }
}

@layer components {
  .new-design .chat-box-running {
    @apply relative;
  }

  .new-design .chat-box-running::before {
    content: '';
    @apply absolute inset-0 pointer-events-none rounded-t-md;
    padding: 1px;
    padding-bottom: 0;
    background: linear-gradient(
      45deg,
      transparent,
      hsl(var(--brand-secondary)),
      transparent
    );
    background-size: 200% 100%;
    animation: border-flash 2s linear infinite;
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }
}

/* Color emoji utility - uses system color emoji fonts for reactions */
@layer utilities {
  .new-design .color-emoji {
    font-family:
      'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji',
      'Android Emoji', 'EmojiSymbols', sans-serif;
  }
}

@layer components {
  .new-design .chat-session-route {
    background: #eef2f8;
    padding: 1px;
    min-height: 0;
  }

  .new-design .chat-session-page {
    --chat-session-bg-primary: #ffffff;
    --chat-session-bg-secondary: #f8f9fc;
    --chat-session-bg-tertiary: #f1f3f8;
    --chat-session-bg-sidebar: #171b25;
    --chat-session-bg-sidebar-muted: #23293a;
    --chat-session-bg-chat: #ffffff;
    --chat-session-message-self-bg: #e8f4fd;
    --chat-session-message-self-border: #bfdbfe;
    --chat-session-message-other-bg: #ffffff;
    --chat-session-message-other-border: #e5e7eb;
    --chat-session-brand: #4f46e5;
    --chat-session-brand-hover: #555dba;
    --chat-session-brand-soft: #eef2ff;
    --chat-session-text-primary: #111827;
    --chat-session-text-secondary: #6b7280;
    --chat-session-text-tertiary: #9ca3af;
    --chat-session-border-default: #e5e7eb;
    --chat-session-border-light: #f3f4f6;
    --chat-session-status-online: #22c55e;
    --chat-session-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --chat-session-shadow-md: 0 4px 10px rgba(15, 23, 42, 0.08);
    --chat-session-shadow-lg: 0 12px 28px rgba(15, 23, 42, 0.12);
    --chat-session-send-blue: #5a66ff;
    --chat-session-send-blue-hover: #4b57f2;
    --chat-session-sidebar-divider: rgba(255, 255, 255, 0.24);
    --chat-session-archived-height-offset: 60px;
    --chat-session-font-sans: 'Inter', -apple-system, BlinkMacSystemFont,
      'Segoe UI', sans-serif;
    --chat-session-font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    background: var(--chat-session-bg-secondary);
    color: var(--chat-session-text-primary);
    font-family: var(--chat-session-font-sans);
    border: 1px solid rgba(148, 163, 184, 0.32);
    border-radius: 8px;
    box-shadow: 0 14px 36px rgba(15, 23, 42, 0.12);
    overflow: hidden;
  }

  .new-design .chat-session-main {
    background: var(--chat-session-bg-chat);
    min-width: 0;
  }

  .new-design .chat-session-resize-handle:hover {
    background: #8a888f;
  }

  .new-design .chat-session-resize-handle:active {
    background: #8a888f;
  }

  .new-design .chat-session-left {
    background: #272b3b;
    color: rgba(247, 250, 255, 0.98);
    border-right: 1px solid rgba(168, 188, 229, 0.36);
    backdrop-filter: blur(18px) saturate(128%);
    -webkit-backdrop-filter: blur(18px) saturate(128%);
    box-shadow:
      inset -1px 0 0 rgba(255, 255, 255, 0.2),
      0 0 0 1px rgba(24, 38, 66, 0.22);
  }

  .new-design .chat-session-left.collapsed {
    align-items: stretch;
  }

  .new-design .chat-session-left-collapsed-shell {
    width: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 10px 8px;
  }

  .new-design .chat-session-left-header {
    border-bottom: 1px solid var(--chat-session-sidebar-divider);
    padding: 16px 14px;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .new-design .chat-session-left-brand {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    width: 100%;
  }

  .new-design .chat-session-left-divider {
    width: 100%;
    height: 1px;
    background: var(--chat-session-sidebar-divider);
  }

  .new-design .chat-session-left-brand-logo {
    width: 230px;
    height: 40px;
    max-width: 100%;
    object-fit: contain;
    object-position: left center;
    display: block;
    margin-right: auto;
  }

  .new-design .chat-session-left-header-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 2px 0;
  }

  .new-design .chat-session-left-title {
    color: rgba(249, 252, 255, 0.98);
    font-size: 15px;
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  .new-design .chat-session-left-logo {
    width: 24px;
    height: 24px;
    border-radius: 0;
    background: transparent;
    padding: 0;
    flex-shrink: 0;
    margin-left: 8px;
    box-shadow: none;
  }

  .new-design .chat-session-left-control-btn {
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    color: rgba(245, 248, 255, 0.9);
    background: rgba(255, 255, 255, 0.12);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .new-design .chat-session-left-control-btn:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  .new-design .chat-session-left-control-icon {
    width: 16px;
    height: 16px;
    object-fit: contain;
    display: block;
  }

  .new-design .chat-session-left-new-btn {
    background: #555dba;
    border-radius: 8px;
    height: 32px;
    width: 32px;
    padding: 0 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    overflow: hidden;
    white-space: nowrap;
    transition: width 0.2s ease, padding 0.2s ease, background 0.15s ease;
    font-weight: 600;
  }

  .new-design .chat-session-left-new-btn:hover,
  .new-design .chat-session-left-new-btn:focus-visible {
    width: 78px;
    padding: 0 10px;
    background: var(--chat-session-brand-hover);
  }

  .new-design .chat-session-left-new-btn:disabled {
    cursor: not-allowed;
    opacity: 0.75;
  }

  .new-design .chat-session-left-new-label {
    display: inline-block;
    max-width: 0;
    opacity: 0;
    overflow: hidden;
    margin-right: 0;
    transform: translateX(-4px);
    transition: max-width 0.2s ease, opacity 0.15s ease,
      transform 0.2s ease, margin-right 0.2s ease;
    font-size: 13px;
    line-height: 1;
  }

  .new-design .chat-session-left-new-btn:hover .chat-session-left-new-label,
  .new-design .chat-session-left-new-btn:focus-visible .chat-session-left-new-label {
    max-width: 38px;
    opacity: 1;
    margin-right: 6px;
    transform: translateX(0);
  }

  .new-design .chat-session-left-new-icon {
    flex-shrink: 0;
  }

  .new-design .chat-session-lists {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
    overflow: hidden;
  }

  .new-design .chat-session-active-panel {
    flex: 0 0 max(
      0px,
      calc(66.666% - var(--chat-session-archived-height-offset))
    );
    min-height: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .new-design .chat-session-archived-panel {
    flex: 0 0 calc(
      33.333% + var(--chat-session-archived-height-offset)
    );
    min-height: 0;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    border-top: 1px solid var(--chat-session-sidebar-divider);
  }

  .new-design .chat-session-list,
  .new-design .chat-session-active-list,
  .new-design .chat-session-archived-list {
    flex: 1 1 auto;
    min-height: 0;
    padding: 10px 8px;
  }

  .new-design .chat-session-list-collapsed {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 6px;
  }

  .new-design .chat-session-list-empty {
    color: rgba(237, 244, 255, 0.72);
    padding: 8px;
  }

  .new-design .chat-session-item {
    border: 1px solid transparent;
    border-radius: 10px;
    color: rgba(241, 247, 255, 0.84);
    margin-bottom: 4px;
    transition: background 0.15s ease, border-color 0.15s ease,
      box-shadow 0.15s ease;
  }

  .new-design .chat-session-item:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: rgba(255, 255, 255, 0.24);
  }

  .new-design .chat-session-item.active {
    background: rgba(79, 70, 229, 0.46);
    border-color: rgba(199, 210, 254, 0.8);
    box-shadow: var(--chat-session-shadow-md);
  }

  .new-design .chat-session-item.collapsed {
    width: 100%;
    margin-bottom: 6px;
  }

  .new-design .chat-session-item-inner {
    padding: 9px 10px;
  }

  .new-design .chat-session-item.collapsed .chat-session-item-inner {
    justify-content: center;
    padding: 8px;
  }

  .new-design .chat-session-item-content {
    min-width: 0;
    flex: 1;
  }

  .new-design .chat-session-item-row {
    display: flex;
    align-items: center;
    gap: 8px;
    width: 100%;
    min-width: 0;
  }

  .new-design .chat-session-item-row.compact {
    flex-direction: column;
    align-items: flex-start;
    gap: 2px;
  }

  .new-design .chat-session-item-icon {
    color: rgba(238, 244, 255, 0.95);
    flex-shrink: 0;
  }

  .new-design .chat-session-item-active-dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(245, 250, 255, 0.96);
    flex-shrink: 0;
    margin: 0 4px;
  }

  .new-design .chat-session-item-title {
    color: rgba(255, 255, 255, 0.97);
    font-size: 14px;
    font-weight: 500;
    line-height: 1.2;
    min-width: 0;
    flex: 1;
  }

  .new-design .chat-session-item-meta {
    color: rgba(230, 238, 255, 0.7);
    font-size: 13px;
    line-height: 1;
    margin-left: auto;
    text-align: right;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .new-design .chat-session-item-row.compact .chat-session-item-meta {
    margin-left: 0;
    text-align: left;
  }

  .new-design .chat-session-item-badge {
    background: rgba(255, 255, 255, 0.18);
    color: rgba(255, 255, 255, 0.96);
    font-size: 10px;
    font-weight: 600;
    padding: 1px 6px;
    border-radius: 999px;
    letter-spacing: 0.02em;
  }

  .new-design .chat-session-archived-header {
    padding: 8px 8px 0;
  }

  .new-design .chat-session-archived-toggle {
    color: rgba(241, 247, 255, 0.72);
    font-size: 13px;
    font-weight: 500;
    letter-spacing: normal;
    text-transform: none;
     text-align: left;
  }

  .new-design .chat-session-archived-toggle:hover {
    color: rgba(255, 255, 255, 0.95);
  }

  .new-design .chat-session-left-version {
    padding: 8px 12px;
    color: rgba(230, 238, 255, 0.66);
    font-size: 11px;
    line-height: 1.2;
    letter-spacing: 0.01em;
    user-select: none;
  }

  .new-design .chat-session-left-version.collapsed {
    padding: 6px 4px 8px;
    text-align: center;
    font-size: 10px;
  }

  .new-design .chat-session-header {
    background: var(--chat-session-bg-primary);
    border-bottom: 1px solid var(--chat-session-border-default);
    min-height: 62px;
    padding: 13px 20px;
  }

  .new-design .chat-session-header-title {
    color: var(--chat-session-text-primary);
    font-size: 18px;
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  .new-design .chat-session-header-meta {
    color: var(--chat-session-text-secondary);
  }

  .new-design .chat-session-header-search {
    min-width: 0;
  }

  .new-design .chat-session-header-search-input-wrap {
    position: relative;
    min-width: 0;
  }

  .new-design .chat-session-header-search-input {
    width: 240px;
    max-width: 32vw;
    min-width: 160px;
    height: 30px;
    border-radius: 12px;
    border: 1px solid #d8e0ee;
    background: #ecedf1;
    padding-right: 28px;
  }

  .new-design .chat-session-header-search-input:focus {
    border-color: #5353bf;
  }

  .new-design .chat-session-header-input {
    border: 1px solid #d8e0ee;
    background: #ecedf1;
  }

  .new-design .chat-session-header-input:focus {
    border-color: #5353bf;
  }

  .new-design .chat-session-header-search-clear-btn {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 14px;
    height: 14px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #6b7280;
    border-radius: 999px;
  }

  .new-design .chat-session-header-search-clear-btn:hover {
    color: #374151;
    background: rgba(255, 255, 255, 0.7);
  }

  .new-design .chat-session-search-highlight {
    background: #fde78a;
    color: inherit;
    border-radius: 2px;
    padding: 0 1px;
  }

  .new-design .chat-session-page
    ::highlight(chat-session-search-highlight) {
    background: #fde78a;
    color: inherit;
  }

  .new-design .chat-session-header-icon-btn {
    width: 28px;
    height: 28px;
    border-radius: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: var(--chat-session-text-secondary);
  }

  .new-design .chat-session-header-icon-btn:hover {
    background: var(--chat-session-bg-tertiary);
    color: var(--chat-session-text-primary);
  }

  .new-design .chat-session-header-op-btn {
    border: 1px solid #d9e1ee;
    background: #ffffff;
  }

  .new-design .chat-session-header-op-btn:hover {
    background: #f3f6fb;
  }

  .new-design .chat-session-header-op-btn.active {
    border-color: #c9d5ff;
    background: #edf1ff;
    color: var(--chat-session-brand);
  }

  .new-design .chat-session-header-icon-btn.danger:hover {
    color: hsl(var(--error));
    background: rgba(239, 68, 68, 0.08);
  }

  .new-design .chat-session-header-btn {
    border-radius: 8px;
    font-weight: 500;
    min-width: 84px;
    justify-content: center;
  }

  .new-design
    .chat-session-header-cancel-btn.primary-button-tertiary {
    background: #ffffff !important;
  }

  .new-design
    .chat-session-header-cancel-btn.primary-button-tertiary:hover:not(
      :disabled
    ) {
    background: #ffffff !important;
  }

  .new-design .chat-session-header-ops .chat-session-header-btn {
    height: 30px;
  }

  .new-design .chat-session-cleanup-bar {
    background: #fbfcff;
    border-bottom: 1px solid var(--chat-session-border-light);
  }

  .new-design .chat-session-cleanup-action {
    color: var(--chat-session-brand);
    font-weight: 500;
  }

  .new-design .chat-session-cleanup-action:hover {
    color: var(--chat-session-brand-hover);
  }

  .new-design .chat-session-cleanup-delete {
    color: hsl(var(--error));
    font-weight: 500;
  }

  .new-design .chat-session-cleanup-delete:hover {
    color: hsl(var(--error) / 0.82);
  }

  .new-design .chat-session-messages {
    background: var(--chat-session-bg-chat);
    padding: 20px 24px;
  }

  .new-design .chat-session-message-row {
    border-radius: 10px;
    margin: 0 -8px;
    padding: 8px;
    transition: background-color 0.15s ease;
  }

  .new-design .chat-session-message-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .new-design .chat-session-context-compacted-separator {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 0 -8px;
    padding: 0 8px;
    color: var(--chat-session-text-tertiary);
    font-size: 10px;
    line-height: 1.2;
    letter-spacing: 0.05em;
  }

  .new-design .chat-session-context-compacted-separator-line {
    flex: 1 1 auto;
    height: 1px;
    background: hsl(var(--border) / 0.65);
  }

  .new-design .chat-session-context-compacted-separator-text {
    white-space: nowrap;
  }

  .new-design .chat-session-message-row:hover {
    background: var(--chat-session-bg-secondary);
  }

  .new-design .chat-session-message-card {
    border-radius: 12px;
    border-width: 1px;
    box-shadow: var(--chat-session-shadow-sm);
  }

  .new-design .chat-session-message-header {
    border-bottom: 1px solid hsl(var(--border) / 0.45);
    padding: 10px 14px;
    border-top-left-radius: 12px;
    border-top-right-radius: 12px;
  }

  .new-design .chat-session-message-body {
    padding: 12px 14px 14px;
    color: var(--chat-session-text-primary);
  }

  .new-design .chat-session-message-body a {
    color: var(--chat-session-brand);
    text-decoration: none;
    font-weight: 500;
  }

  .new-design .chat-session-message-meta {
    color: var(--chat-session-text-secondary);
  }

  .new-design .chat-session-message-reply {
    font-weight: 500;
  }

  .new-design .chat-session-message-avatar {
    width: 28px;
    height: 28px;
    border-radius: 8px;
    position: relative;
  }

  .new-design .chat-session-message-avatar.is-user {
    background: #dbeafe;
    color: var(--chat-session-brand);
  }

  .new-design .chat-session-message-avatar.is-agent {
    background: linear-gradient(135deg, #8b5cf6, #6366f1);
    color: #fff;
  }

  .new-design .chat-session-message-avatar.is-agent::after {
    content: '';
    position: absolute;
    width: 10px;
    height: 10px;
    right: -3px;
    bottom: -3px;
    border-radius: 999px;
    border: 2px solid #fff;
    background: var(--chat-session-status-online);
  }

  .new-design .chat-session-message-avatar.chat-session-agent-avatar {
    background: var(--chat-agent-avatar-bg, #f2f5ff) !important;
    border: 1px solid var(--chat-agent-avatar-border, #d1daf5);
    color: #3f4a60;
  }

  .new-design .chat-session-message-avatar.chat-session-agent-avatar::after {
    display: none;
  }

  .new-design .chat-session-message-avatar-icon {
    color: currentColor;
    width: 14px;
    height: 14px;
  }

  .new-design .chat-session-agent-avatar-logo {
    width: 14px;
    height: 14px;
    object-fit: contain;
  }

  .new-design .chat-session-reference-card {
    background: #f8fafc;
    border-color: #e2e8f0;
  }

  .new-design .chat-session-mention-tag {
    background: var(--chat-session-brand-soft);
    color: var(--chat-session-brand);
    border: 1px solid #c7d2fe;
  }

  .new-design .chat-session-attachment-card {
    background: #f8fafc;
    border-color: #e2e8f0;
  }

  .new-design .chat-session-code-card {
    background: #f8fafc;
    border-color: #e2e8f0;
  }

  .new-design .chat-session-code-card-title {
    font-weight: 600;
    color: var(--chat-session-text-primary);
  }

  .new-design .chat-session-code-card-link {
    font-weight: 500;
  }

  .new-design .chat-session-code-card-meta {
    color: var(--chat-session-text-secondary);
  }

  .new-design .chat-session-input-area {
    border-top: 1px solid var(--chat-session-border-default);
    background: var(--chat-session-bg-primary);
    padding: 16px 24px 20px;
  }

  .new-design .chat-session-reply-card {
    background: #f8fafc;
    border-color: #e2e8f0;
  }

  .new-design .chat-session-mention-trigger {
    background: #cbcbd1;
  }

  .new-design .chat-session-mention-trigger:hover {
    background: #cbcbd1;
  }

  .new-design .chat-session-mention-menu {
    background: #ecedf1 !important;
  }

  .new-design .chat-session-mention-menu .dropdown-menu-checkbox-item:focus,
  .new-design
    .chat-session-mention-menu
    .dropdown-menu-checkbox-item[data-highlighted],
  .new-design
    .chat-session-mention-menu
    .dropdown-menu-checkbox-item[data-state='checked'] {
    background: #d5d5dc !important;
    color: var(--chat-session-text-primary) !important;
  }

  .new-design .chat-session-attachments {
    background: #f8fafc;
    border-color: #e2e8f0;
  }

  .new-design .chat-session-attachment-item {
    background: #fff;
    border-color: #e2e8f0;
    border-radius: 8px;
  }

  .new-design .chat-session-textarea {
    border-radius: 12px;
    border: 1px solid #d8e0ee;
    background: #ecedf1;
  }

  .new-design .chat-session-textarea:focus {
    border-color:#5353bf;
  }

  .new-design .chat-session-mention-suggestions {
    border-radius: 10px;
    background: var(--chat-session-bg-secondary) !important;
    border-color: #e2e8f0;
    box-shadow: var(--chat-session-shadow-md);
  }

  .new-design .chat-session-mention-option {
    color: var(--chat-session-text-primary);
  }

  .new-design .chat-session-mention-avatar {
    width: 18px;
    height: 18px;
    border-radius: 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: var(--chat-agent-avatar-bg, #f2f5ff);
    border: 1px solid var(--chat-agent-avatar-border, #d1daf5);
    color: #3f4a60;
  }

  .new-design .chat-session-mention-avatar-logo {
    width: 10px;
    height: 10px;
    object-fit: contain;
  }

  .new-design .chat-session-attach-btn {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    border-color: #dbe3ef;
    background: #cbcbd1 !important;
    color: #363b4f;
  }

  .new-design .chat-session-attach-btn:hover,
  .new-design .chat-session-attach-btn:focus-visible {
    background: #cbcbd1 !important;
    color: #363b4f;
  }

  .new-design .chat-session-send-btn {
    background: var(--chat-session-send-blue);
    color: #ffffff;
    border-radius: 9px;
    min-width: 100px;
    justify-content: center;
    font-weight: 600;
    border: 1px solid transparent;
  }

  .new-design .chat-session-send-btn:hover {
    background: var(--chat-session-send-blue-hover);
  }

  .new-design .chat-session-send-btn:disabled {
    background: #ecedf1 !important;
    color: #ffffff !important;
  }

  .chat-session-modal-surface,
  .new-design .chat-session-modal-surface,
  .new-design .chat-session-modal-surface.bg-primary,
  .new-design .chat-session-modal-surface.bg-panel {
    background: #ecedf1 !important;
  }

  .new-design .chat-session-members-panel {
    background: var(--chat-session-bg-secondary);
  }

  .new-design .chat-session-workspace-drawer {
    background: var(--chat-session-bg-secondary);
  }

  .new-design .chat-settings-theme {
    --bg-primary: 220 40% 98%;
    --bg-secondary: 225 36% 97%;
    --bg-panel: 0 0% 100%;
    --text-high: 222 47% 11%;
    --text-normal: 220 16% 27%;
    --text-low: 217 10% 46%;
    --brand: 236 79% 60%;
    --brand-hover: 236 73% 56%;
    --brand-secondary: 236 67% 52%;
    --border: 220 22% 90%;
    --ring: 236 79% 60%;
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;
    --primary: 236 79% 60%;
    --primary-foreground: 0 0% 100%;
    --secondary: 225 36% 97%;
    --secondary-foreground: 220 16% 27%;
    --muted: 220 28% 96%;
    --muted-foreground: 217 10% 46%;
    --accent: 228 100% 97%;
    --accent-foreground: 231 55% 36%;
    --input: 220 22% 90%;
    --destructive: 0 74% 52%;
    --destructive-foreground: 0 0% 100%;
    --settings-accent-bg: #edf1ff;
    --settings-accent-border: #c9d5ff;
    --settings-accent-text: #4f46e5;
    --settings-surface-soft: #f8f9fc;
    --settings-surface-hover: #f1f4fb;
    --settings-input-bg: #ffffff;
    --settings-input-border: #d9e1ee;
  }

  .new-design .chat-settings-theme,
  .new-design .chat-settings-theme.settings-dialog-shell {
    background: #ffffff;
    color: #111827;
  }

  .new-design .chat-settings-theme .settings-dialog-nav {
    background: var(--chat-session-bg-secondary, #f8f9fc) !important;
    border-color: var(--chat-session-border-default, #e5e7eb) !important;
  }

  .new-design .chat-settings-theme .settings-dialog-main {
    background: #ffffff !important;
  }

  .new-design .chat-settings-theme .settings-dialog-main > .settings-dialog-content,
  .new-design .chat-settings-theme .settings-dialog-content {
    background: #ffffff !important;
  }

  .new-design .chat-settings-theme .settings-dialog-nav-item {
    color: #4b5563;
  }

  .new-design .chat-settings-theme .settings-dialog-nav-item-inactive:hover,
  .new-design .chat-settings-theme .settings-dialog-nav-item-inactive:focus-visible {
    background: var(--settings-surface-hover) !important;
    color: #1f2937 !important;
  }

  .new-design .chat-settings-theme .settings-dialog-nav-item-active {
    background: var(--settings-accent-bg) !important;
    border-color: var(--settings-accent-border) !important;
    color: var(--settings-accent-text) !important;
  }

  .new-design .chat-settings-theme .settings-section-header {
    background: #ffffff !important;
    border-color: var(--chat-session-border-default, #e5e7eb) !important;
  }

  .new-design .chat-settings-theme .settings-section-body {
    background: #ffffff;
  }

  .new-design .chat-settings-theme .settings-card {
    border-color: #e2e8f0;
  }

  .new-design .chat-settings-theme .settings-two-column-picker {
    background: #ffffff;
    border-color: var(--settings-input-border);
  }

  .new-design .chat-settings-theme .settings-two-column-header {
    background: var(--settings-surface-soft);
    border-color: var(--settings-input-border);
  }

  .new-design .chat-settings-theme .settings-two-column-body {
    background: #ffffff;
  }

  .new-design .chat-settings-theme .settings-two-column-item:hover {
    background: var(--settings-surface-hover);
  }

  .new-design .chat-settings-theme .settings-two-column-item-selected {
    background: var(--settings-accent-bg) !important;
    color: var(--settings-accent-text) !important;
  }

  .new-design .chat-settings-theme .settings-two-column-item-selected .settings-two-column-item-label {
    color: var(--settings-accent-text) !important;
  }

  .new-design .chat-settings-theme .settings-two-column-badge-brand {
    background: #e8edff !important;
    color: #4453c7 !important;
  }

  .new-design .chat-settings-theme .settings-two-column-badge-default {
    background: #eef2f7 !important;
    color: #516072 !important;
  }

  .new-design .chat-settings-theme .settings-inline-panel {
    background: var(--settings-surface-soft) !important;
    border-color: var(--settings-input-border) !important;
  }

  .new-design .chat-settings-theme .settings-input,
  .new-design .chat-settings-theme .settings-textarea,
  .new-design .chat-settings-theme .settings-select-trigger,
  .new-design .chat-settings-theme .settings-rjsf-keyvalue-input,
  .new-design .chat-settings-theme .dropdown-menu-trigger-btn,
  .new-design .chat-settings-theme .ui-select-trigger {
    background: var(--settings-input-bg) !important;
    border-color: var(--settings-input-border) !important;
    color: #111827 !important;
  }

  .new-design .chat-settings-theme .settings-input::placeholder,
  .new-design .chat-settings-theme .settings-textarea::placeholder,
  .new-design .chat-settings-theme .dropdown-menu-search-input::placeholder {
    color: #9aa3b2 !important;
  }

  .new-design .chat-settings-theme .settings-input:focus,
  .new-design .chat-settings-theme .settings-textarea:focus,
  .new-design .chat-settings-theme .settings-select-trigger:focus-visible,
  .new-design .chat-settings-theme .dropdown-menu-trigger-btn:focus-visible,
  .new-design .chat-settings-theme .ui-select-trigger:focus {
    border-color: #95a3ff !important;
    box-shadow: 0 0 0 1px #95a3ff !important;
  }

  .new-design .chat-settings-theme .settings-checkbox-input {
    background: #ffffff !important;
    border-color: var(--settings-input-border) !important;
    accent-color: var(--chat-session-send-blue, #5a66ff);
  }

  .new-design .chat-settings-theme .dropdown-menu-content,
  .new-design .chat-settings-theme .ui-select-content {
    background: #ffffff !important;
    border-color: var(--settings-input-border) !important;
    box-shadow: var(--chat-session-shadow-md, 0 4px 10px rgba(15, 23, 42, 0.08));
  }

  .new-design .settings-select-dropdown {
    background: #f9f9fa !important;
  }

  .new-design .chat-settings-theme .dropdown-menu-item,
  .new-design .chat-settings-theme .dropdown-menu-checkbox-item,
  .new-design .chat-settings-theme .dropdown-menu-radio-item,
  .new-design .chat-settings-theme .ui-select-item {
    color: #1f2937;
  }

  .new-design .chat-settings-theme .dropdown-menu-item:focus,
  .new-design .chat-settings-theme .dropdown-menu-item[data-highlighted],
  .new-design .chat-settings-theme .dropdown-menu-checkbox-item:focus,
  .new-design .chat-settings-theme .dropdown-menu-checkbox-item[data-highlighted],
  .new-design .chat-settings-theme .dropdown-menu-radio-item:focus,
  .new-design .chat-settings-theme .dropdown-menu-radio-item[data-highlighted],
  .new-design .chat-settings-theme .ui-select-item:focus,
  .new-design .chat-settings-theme .ui-select-item[data-highlighted] {
    background: var(--settings-surface-hover) !important;
    color: #111827 !important;
  }

  .new-design .chat-settings-theme .dropdown-menu-checkbox-item[data-state='checked'],
  .new-design .chat-settings-theme .dropdown-menu-radio-item[data-state='checked'] {
    background: var(--settings-accent-bg);
    color: var(--settings-accent-text);
  }

  .new-design .chat-settings-theme .settings-savebar {
    background: rgba(248, 249, 252, 0.92) !important;
    border-color: var(--settings-input-border) !important;
  }

  .new-design .chat-settings-theme .primary-button-default {
    background: var(--chat-session-send-blue, #5a66ff) !important;
    color: #ffffff !important;
  }

  .new-design .chat-settings-theme .primary-button-default:hover:not(:disabled) {
    background: var(--chat-session-send-blue-hover, #4b57f2) !important;
  }

  .new-design .chat-settings-theme .primary-button-secondary {
    background: #e8edff !important;
    color: #3f4cb8 !important;
  }

  .new-design .chat-settings-theme .primary-button-secondary:hover:not(:disabled) {
    background: #dfe6ff !important;
  }

  .new-design .chat-settings-theme .primary-button-tertiary {
    background: #ffffff !important;
    border: 1px solid var(--settings-input-border) !important;
    color: #374151 !important;
  }

  .new-design .chat-settings-theme .primary-button-tertiary:hover:not(:disabled) {
    background: var(--settings-surface-hover) !important;
  }

  .new-design .chat-settings-theme .icon-button:hover:not(:disabled) {
    background: var(--settings-surface-hover);
    color: #334155;
  }

  .new-design .chat-settings-theme .ui-badge-default {
    background: #e8edff;
    border-color: #c9d5ff;
    color: #4453c7;
  }

  .new-design .chat-settings-theme .ui-badge-secondary {
    background: #eef2f7;
    color: #516072;
  }

  .new-design .chat-session-prompt-modal {
    background: #ffffff !important;
  }

  .new-design .chat-session-prompt-modal-input {
    background: #ecedf1 !important;
  }

  .new-design .chat-session-members-header {
    background: #f3f4f8;
    border-bottom: 1px solid var(--chat-session-border-default);
    padding: 14px 14px;
  }

  .new-design .chat-session-members-title {
    color: var(--chat-session-text-primary);
    font-size: 14px;
    font-weight: 600;
  }

  .new-design .chat-session-member-card {
    background: #fff;
    border-color: #e2e8f0;
    border-radius: 10px;
    padding: 10px 12px;
    transition: box-shadow 0.15s ease;
  }

  .new-design .chat-session-member-card:hover {
    box-shadow: var(--chat-session-shadow-sm);
  }

  .new-design .chat-session-member-name {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    line-height: 1.3;
  }

  .new-design .chat-session-member-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 6px;
    min-width: 0;
  }

  .new-design .chat-session-member-primary {
    flex: 1 1 auto;
    min-width: 0;
  }

  .new-design .chat-session-member-avatar {
    width: 20px;
    height: 20px;
    border-radius: 6px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: var(--chat-agent-avatar-bg, #f2f5ff);
    border: 1px solid var(--chat-agent-avatar-border, #d1daf5);
    color: #3f4a60;
  }

  .new-design .chat-session-member-avatar-logo {
    width: 11px;
    height: 11px;
    object-fit: contain;
  }

  .new-design .chat-session-member-model {
    color: var(--chat-session-text-tertiary);
    margin-left: 14px;
  }

  .new-design .chat-session-member-model-full {
    display: block;
    max-width: 100%;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: clip;
  }

  .new-design .chat-session-member-model-truncated {
    display: none;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  .new-design .chat-session-member-workspace {
    font-family: var(--chat-session-font-mono);
    color: #6b7280;
    line-height: 1.35;
  }

  .new-design .chat-session-member-workspace-row {
    margin-top: 6px;
    padding-top: 6px;
    border-top: 1px solid #e2e8f0;
  }

  .new-design .chat-session-member-actions {
    opacity: 1;
    gap: 4px;
    flex-shrink: 0;
  }

  .new-design .chat-session-member-action {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 2px 7px;
    border-radius: 999px;
    border: 1px solid transparent;
    font-size: 10px;
    font-weight: 600;
    line-height: 1.2;
    transition:
      opacity 0.15s ease,
      background-color 0.15s ease,
      border-color 0.15s ease,
      color 0.15s ease;
  }

  .new-design .chat-session-member-action.workspace,
  .new-design .chat-session-member-action.edit {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
  }

  .new-design .chat-session-member-actions:hover .chat-session-member-action.workspace,
  .new-design .chat-session-member-actions:hover .chat-session-member-action.edit,
  .new-design .chat-session-member-actions:focus-within .chat-session-member-action.workspace,
  .new-design .chat-session-member-actions:focus-within .chat-session-member-action.edit {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
  }

  .new-design .chat-session-member-card:has(.chat-session-member-actions:hover) .chat-session-member-name,
  .new-design .chat-session-member-card:has(.chat-session-member-actions:focus-within) .chat-session-member-name {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }

  .new-design .chat-session-member-card:has(.chat-session-member-actions:hover) .chat-session-member-model-full,
  .new-design .chat-session-member-card:has(.chat-session-member-actions:focus-within) .chat-session-member-model-full {
    display: none;
  }

  .new-design .chat-session-member-card:has(.chat-session-member-actions:hover) .chat-session-member-model-truncated,
  .new-design .chat-session-member-card:has(.chat-session-member-actions:focus-within) .chat-session-member-model-truncated {
    display: block;
  }

  .new-design .chat-session-member-action.workspace {
    background: #e5f0ff;
    border-color: #bfdbfe;
    color: #1d4ed8;
  }

  .new-design .chat-session-member-action.workspace:hover {
    background: #dbeafe;
    border-color: #93c5fd;
    color: #1e40af;
  }

  .new-design .chat-session-member-action.edit {
    background: #eef2f7;
    border-color: #d2dae7;
    color: #334155;
  }

  .new-design .chat-session-member-action.edit:hover {
    background: #e2e8f0;
    border-color: #cbd5e1;
    color: #1e293b;
  }

  .new-design .chat-session-member-action.danger {
    background: #fee2e2;
    border-color: #fecaca;
    color: #b91c1c;
  }

  .new-design .chat-session-member-action.danger:hover {
    background: #fecaca;
    border-color: #fca5a5;
    color: #991b1b;
  }

  .new-design .chat-session-member-action:disabled {
    filter: saturate(0.45);
    cursor: not-allowed;
  }

  .new-design .chat-session-add-member-btn {
    width: 100%;
    height: 44px;
    padding: 0 16px;
    border-radius: 8px;
    border: 1px solid rgba(57, 55, 137, 0.35);
    background: transparent;
    color: #393789;
    font-size: 13px;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    transition: background-color 0.15s ease;
  }

  .new-design .chat-session-add-member-btn:hover {
    background: rgba(57, 55, 137, 0.1);
  }

  .new-design .chat-session-add-member-btn:active {
    background: rgba(57, 55, 137, 0.16);
  }

  .new-design .chat-session-add-member-btn:disabled {
    border-color: rgba(57, 55, 137, 0.2);
    color: rgba(57, 55, 137, 0.5);
    background: transparent;
    cursor: not-allowed;
  }

  .new-design .chat-session-members-panel .chat-session-member-form-panel,
  .new-design .chat-session-member-form-panel {
    background: #ecedf1 !important;
    border-color: #e2e8f0;
    border-radius: 10px;
  }

  .new-design .chat-session-member-form-panel .chat-session-member-field,
  .new-design .chat-session-member-field {
    border-radius: 8px;
    background: #ffffff !important;
    border: 1px solid #d8e0ee !important;
    box-shadow: none !important;
  }

  .new-design .chat-session-member-form-panel .chat-session-member-field:focus,
  .new-design .chat-session-member-field:focus,
  .new-design
    .chat-session-member-form-panel
    .chat-session-member-field:focus-visible,
  .new-design .chat-session-member-field:focus-visible {
    border-color: #5353bf !important;
    box-shadow: none !important;
  }

  .new-design .chat-session-member-btn {
    border-radius: 8px;
    min-width: 72px;
    justify-content: center;
  }

  .new-design .chat-session-member-expand-btn {
    color: var(--chat-session-send-blue);
  }

  .new-design .chat-session-member-expand-btn:hover,
  .new-design .chat-session-member-expand-btn:focus-visible {
    color: var(--chat-session-send-blue-hover);
  }

  .new-design .chat-session-member-form-panel .chat-session-member-btn.cancel {
    background: #ffffff !important;
  }

  .new-design .chat-session-member-form-panel .chat-session-member-btn.cancel:hover,
  .new-design .chat-session-member-form-panel .chat-session-member-btn.cancel:focus-visible,
  .new-design .chat-session-member-form-panel .chat-session-member-btn.cancel:disabled {
    background: #ffffff !important;
  }

  @media (max-width: 1200px) {
    .new-design .chat-session-messages {
      padding: 16px;
    }

    .new-design .chat-session-input-area {
      padding: 12px 16px 16px;
    }
  }

  .new-design .chat-session-page .overflow-y-auto,
  .new-design .chat-session-page .overflow-x-auto,
  .new-design .chat-session-list,
  .new-design .chat-session-active-list,
  .new-design .chat-session-archived-list,
  .new-design .chat-session-messages,
  .new-design .chat-session-members-list {
    scrollbar-width: thin;
    scrollbar-color: rgba(122, 138, 170, 0.7) transparent;
  }

  .new-design .chat-session-page .overflow-y-auto::-webkit-scrollbar,
  .new-design .chat-session-page .overflow-x-auto::-webkit-scrollbar,
  .new-design .chat-session-list::-webkit-scrollbar,
  .new-design .chat-session-active-list::-webkit-scrollbar,
  .new-design .chat-session-archived-list::-webkit-scrollbar,
  .new-design .chat-session-messages::-webkit-scrollbar,
  .new-design .chat-session-members-list::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  .new-design .chat-session-page .overflow-y-auto::-webkit-scrollbar-track,
  .new-design .chat-session-page .overflow-x-auto::-webkit-scrollbar-track,
  .new-design .chat-session-list::-webkit-scrollbar-track,
  .new-design .chat-session-active-list::-webkit-scrollbar-track,
  .new-design .chat-session-archived-list::-webkit-scrollbar-track,
  .new-design .chat-session-messages::-webkit-scrollbar-track,
  .new-design .chat-session-members-list::-webkit-scrollbar-track {
    background: transparent;
  }

  .new-design .chat-session-page .overflow-y-auto::-webkit-scrollbar-thumb,
  .new-design .chat-session-page .overflow-x-auto::-webkit-scrollbar-thumb,
  .new-design .chat-session-list::-webkit-scrollbar-thumb,
  .new-design .chat-session-active-list::-webkit-scrollbar-thumb,
  .new-design .chat-session-archived-list::-webkit-scrollbar-thumb,
  .new-design .chat-session-messages::-webkit-scrollbar-thumb,
  .new-design .chat-session-members-list::-webkit-scrollbar-thumb {
    border: 2px solid transparent;
    border-radius: 999px;
    background: rgba(112, 128, 161, 0.75);
    background-clip: content-box;
  }

  .new-design .chat-session-page .overflow-y-auto::-webkit-scrollbar-thumb:hover,
  .new-design .chat-session-page .overflow-x-auto::-webkit-scrollbar-thumb:hover,
  .new-design .chat-session-list::-webkit-scrollbar-thumb:hover,
  .new-design .chat-session-active-list::-webkit-scrollbar-thumb:hover,
  .new-design .chat-session-archived-list::-webkit-scrollbar-thumb:hover,
  .new-design .chat-session-messages::-webkit-scrollbar-thumb:hover,
  .new-design .chat-session-members-list::-webkit-scrollbar-thumb:hover {
    background: rgba(87, 104, 140, 0.92);
    background-clip: content-box;
  }
}

@config '../../../tailwind.new.config.js';
